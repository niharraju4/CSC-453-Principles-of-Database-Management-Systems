DROP TABLE CUSTOMERS CASCADE CONSTRAINTS;
DROP TABLE ORDERS CASCADE CONSTRAINTS;
DROP TABLE PRODUCTS CASCADE CONSTRAINTS;
DROP TABLE REQUESTS CASCADE CONSTRAINTS;


CREATE TABLE CUSTOMERS

(

CUSTOMERID int CHECK(CUSTOMERID BETWEEN 1 AND 999) NOT NULL PRIMARY KEY ,

NAME varchar(25),

ADDRESS varchar(50)

);

--INSERT TABLE VALUES
INSERT INTO CUSTOMERS VALUES (2, 'CASUAL FURNITURE', 'PLANO, TX');

INSERT INTO CUSTOMERS VALUES (6, 'MOUNTAIN GALLERY', 'BOULDER, CO');


CREATE TABLE ORDERS
(
ORDERID     NUMBER(5,0),
ORDERDATE   DATE,
CUSTOMERID  NUMBER(3,0),

CONSTRAINT PK_ORDERS
    PRIMARY KEY (ORDERID),
    
CONSTRAINT PK_ORDERS_CUSTOMERS
    FOREIGN KEY (CUSTOMERID)
    REFERENCES CUSTOMERS(CUSTOMERID)
);

INSERT INTO ORDERS VALUES (10006, DATE '24-03-10', 2);
INSERT INTO ORDERS VALUES (1007, DATE '25-03-10', 6);
INSERT INTO ORDERS VALUES (1008, DATE '25-03-10', 6);
INSERT INTO ORDERS VALUES (1009, DATE '26-03-10', 2);



CREATE TABLE PRODUCTS

(

ProductID int CHECK(PRODUCTID BETWEEN 1 AND 99) NOT NULL PRIMARY KEY,

DESCRIPTION varchar(28),

FINISH varchar(10),

PRICE float CHECK(Price >=0 AND Price <= 899.99 )

);
INSERT INTO PRODUCTS VALUES (10, 'WRITING DESK', 'OAK', 425);
INSERT INTO PRODUCTS VALUES (30, 'DINING TABLE', 'ASH', 600);
INSERT INTO PRODUCTS VALUES (40, 'ENTERTAINMENT CENTER', 'MAPLE', 650);
INSERT INTO PRODUCTS VALUES (70, 'CHILDRENS DRESSER', 'PINE', 300);


CREATE TABLE REQUESTS
(
ORDERID     NUMBER(4,0),

PRODUCTID   NUMBER(2,0),

QUANTITY    NUMBER(3,0)
CHECK (1 <= QUANTITY AND QUANTITY <= 50),
    PRIMARY KEY(ORDERID,  PRODUCTID),
CONSTRAINT PK_REQ_PROD FOREIGN KEY (PRODUCTID) REFERENCES PRODUCTS(PRODUCTID),
    
CONSTRAINT PK_REQ_ORDERS FOREIGN KEY (ORDERID) REFERENCES ORDERS(ORDERID)
);

INSERT INTO REQUESTS VALUES (1006, 10, 4);
INSERT INTO REQUESTS VALUES (1006, 30, 2);
INSERT INTO REQUESTS VALUES (1006, 40, 1);
INSERT INTO REQUESTS VALUES (1007, 40, 3);
INSERT INTO REQUESTS VALUES (1007, 70, 1);
INSERT INTO REQUESTS VALUES (1008, 70, 1);
INSERT INTO REQUESTS VALUES (1009, 10, 1);
INSERT INTO REQUESTS VALUES (1009, 40, 1);


SELECT * FROM CUSTOMERS;
SELECT * FROM ORDERS;
SELECT * FROM PRODUCTS;
SELECT * FROM REQUESTS;